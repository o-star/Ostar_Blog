---

template: post
title: "[Data Structure] Heap"
draft: false
priority: 0
date: 2021-07-05
description: >-
  List of the questions from dev to the company.
  Fork it or use it as is.
category: CS
tags:
  - Data Structure
---

# **Heap**

π‘‰ **λ³Έ ν¬μ¤νΈλ” μλ£κµ¬μ΅°μ κ°λ…μ— μ¶”κ°€μ μΌλ΅, μ§μ ‘μ μΈ C++ κµ¬ν„μ„ ν†µν• λ…ν™•ν• μλ£κµ¬μ΅° μ΄ν•΄λ¥Ό μ„ν•΄ μ‘μ„±λμ—μµλ‹λ‹¤.** π‘

μ°μ„ μμ„ νλ¥Ό μ΄ν•΄ν•κΈ° μ„ν•΄μ„  Heap μλ£κµ¬μ΅°λ¥Ό λ…ν™•ν•κ² μ΄ν•΄ν•μ—¬μ•Όλ§ ν•λ‹¤.

μ°λ¦¬λ” λ§μ€ μ•κ³ λ¦¬μ¦ λ¬Έμ μ—μ„ μ°μ„ μμ„ νλ¥Ό μ‚¬μ©ν•΄λ³Έ μ μ΄ μλ‹¤. BFS μ•κ³ λ¦¬μ¦ λΏ λ§ μ•„λ‹λΌ λ‹¤μ–‘ν• μ°μ„ μμ„, μ¤μΌ€μ¥΄λ§ μ•κ³ λ¦¬μ¦μ—λ„ μ°μ„ μμ„ νλ” λΉ μ§€μ§€ μ•κ³  μ‚¬μ©λλ‹¤.

μ°μ„ μμ„ νμ κ²½μ° λμ¨ν• μ •λ ¬ ν•νƒμ Heap μλ£κµ¬μ΅°λ¥Ό ν†µν•΄ ν¨κ³Όμ μΌλ΅ νΉμ • κΈ°μ¤€μ— μν• μ •λ ¬κ°’λ“¤μ„ μ°¨λ΅€λ΅ μ¶”μ¶ν•΄λ‚Ό μ μλ‹¤.

<br/>

<br/>

## Complete Binary Tree

Heapμ€ μ™„μ „ μ΄μ§„ νΈλ¦¬ ν•νƒλ¥Ό κ°€μ§€κ³  μλ‹¤.

Complete Binary Tree(μ™„μ „ μ΄μ§„ νΈλ¦¬) : λ§μ§€λ§‰ λ λ²¨μ„ μ μ™Έν• λ¨λ“  λ λ²¨μ€ λ¨λ“  λ…Έλ“κ°€ μ±„μ›μ Έ μκ³ , λ§μ§€λ§‰ λ λ²¨μ λ…Έλ“λ“¤μ€ μ™Όμ½λ¶€ν„° μ°¨λ΅€λ΅ μ±„μ›μ Έ μλ” νΈλ¦¬ ν•νƒ

Full Binary Tree(ν¬ν™” μ΄μ§„ νΈλ¦¬) : μμ‹ λ…Έλ“λ¥Ό μ•„μ κ°€μ§€μ§€ μ•κ±°λ‚, λ¬΄μ΅°κ±΄ 2κ°λ¥Ό κ°€μ§€λ” μ΄μ§„ νΈλ¦¬ ν•νƒ

<br/>

Min Heap : λ¶€λ¨ ν‚¤ κ°’μ΄ μμ‹ λ…Έλ“ ν‚¤ κ°’λ³΄λ‹¤ μ‘μ€ μ™„μ „ μ΄μ§„ νΈλ¦¬, λ£¨νΈ λ…Έλ“κ°€ νΈλ¦¬ μƒμ—μ„ κ°€μ¥ μ‘μ€ κ°’μ΄λ‹¤.

Max Heap : λ¶€λ¨ ν‚¤ κ°’μ΄ μμ‹ λ…Έλ“ ν‚¤ κ°’ λ³΄λ‹¤ ν° μ™„μ „ μ΄μ§„ νΈλ¦¬, λ£¨νΈ λ…Έλ“κ°€ νΈλ¦¬ μƒμ—μ„ κ°€μ¥ ν° κ°’μ΄λ‹¤.

<br/>

## Heap μ‚½μ…, μ‚­μ  μ—°μ‚°

#### **μ‚½μ…**

1. μ™„μ „ μ΄μ§„ νΈλ¦¬μ λ‹¤μμΌλ΅ λΉ„μ›μ Έ μλ” λ…Έλ“μ— κ°’μ„ μ‚½μ….
2. μ‚½μ…ν• λ…Έλ“μ λ¶€λ¨ λ…Έλ“μ™€ κ°’μ„ λΉ„κµν•΄ μ΅°κ±΄μ— λ§μ§€ μ•μ„ κ²½μ° swap ν•΄μ¤
3. λ£¨νΈ λ…Έλ“μ— λ„λ‹¬ν•κ±°λ‚, λ” μ΄μƒ μ΅°κ±΄μ— λ§μ§€ μ•λ” λ…Έλ“κ°€ μ—†μ„ λ• κΉμ§€ 1, 2λ² κ³Όμ • λ°λ³µ

#### **μ‚­μ  -> μ‚­μ μ— μ•μ„ Heapμ€ λ£¨νΈ λ…Έλ“μ μ›μ†λ§μ„ μ‚­μ ν•  μ μμ(pop)**

1. λ£¨νΈ λ…Έλ“ μ›μ† μ‚­μ 
2. λ§μ§€λ§‰μ— μ„μΉν• λ…Έλ“λ¥Ό λ£¨νΈ λ…Έλ“ μ„μΉλ΅ λμ–΄μ¬λ¦Ό
3. μ΄λ™μ‹ν‚¨ λ£¨νΈ λ…Έλ“μ™€ μμ‹λ…Έλ“μ κ°’μ„ λΉ„κµν•΄κ°€λ©° μ΅°κ±΄μ— λ§μ§€ μ•μ„ κ²½μ° swap ν•΄μ¤
4. μµν•λ‹¨ λ λ²¨μ λ…Έλ“κΉμ§€ λ„λ‹¬ν–κ±°λ“  λ” μ΄μƒ μ΅°κ±΄μ— λ§μ§€ μ•λ” λ…Έλ“κ°€ μ—†μ„ λ•κΉμ§€ swap κ³Όμ • λ°λ³µ

<br/>

<br/>

## κµ¬ν„ μ½”λ“

-> STL Libraryμ min heap μ°μ„ μμ„ νμ™€ μ μ‚¬ν•κ² κµ¬ν„ν•λ ¤ μ‹λ„ν• μ½”λ“μ΄λ‹¤.

```c++
#include <iostream>

#define SIZE 10000

using namespace std;

class MinHeap {
public :
    int *heap = new int[SIZE];
    int heapcount = 1;

    void swap(int *a, int *b) {
        int temp = *a;
        *a = *b;
        *b = temp;
    }

    int size() {
        return heapcount - 1;
    }

    bool isEmpty() {
        return heapcount == 1;
    }

    int top() {
        return heap[1];
    }

    void push(int num) {
        int curidx = heapcount;
        heap[heapcount++] = num;

        while (curidx > 1 && heap[curidx] < heap[curidx / 2]) {
            swap(&heap[curidx], &heap[curidx / 2]);
            curidx /= 2;
        }
    }

    void pop() {
        heap[1] = heap[--heapcount];

        int parent = 1, child = 2;
        if (child + 1 <= heapcount)
            child = (heap[child] > heap[child + 1]) ? child + 1 : child;

        while (child <= heapcount && heap[child] < heap[parent]) {
            swap(&heap[child], &heap[parent]);
            parent = child;
            child *= 2;
            if (child + 1 <= heapcount)
                child = (heap[child] > heap[child + 1]) ? child + 1 : child;
        }
    }
};


int main() {
    int tc, n, input;
    MinHeap minheap;

    cin >> tc;
    while (tc--) {
        cin >> n;
        while (n--) {
            cin >> input;
            minheap.push(input);
        }

        while (!minheap.isEmpty()) {
            cout << minheap.top() << ' ';
            minheap.pop();
        }
        cout << '\n';
    }

    return 0;
}
```

<br/>
<br/>

<br/>

